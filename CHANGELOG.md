# Change Log

All notable changes to this project will be documented in this file.
See [Conventional Commits](https://conventionalcommits.org) for commit guidelines.

## [1.7.10](https://github.com/3merge/q3-api/compare/v1.7.9...v1.7.10) (2021-01-16)


### Bug Fixes

* memory leak in get controller ([#115](https://github.com/3merge/q3-api/issues/115)) ([9970b50](https://github.com/3merge/q3-api/commit/9970b50815341171739f0a0a95a7e58a8f03a447))






## [1.7.9](https://github.com/3merge/q3-api/compare/v1.7.8...v1.7.9) (2021-01-14)

**Note:** Version bump only for package Q3-Api





## [1.7.8](https://github.com/3merge/q3-api/compare/v1.7.7...v1.7.8) (2021-01-06)

**Note:** Version bump only for package Q3-Api





## [1.7.7](https://github.com/3merge/q3-api/compare/v1.7.6...v1.7.7) (2021-01-06)


### Bug Fixes

* legacy search reference ([48bb7c8](https://github.com/3merge/q3-api/commit/48bb7c8d5736bc49954b846a8fc76bebe901d7fe))





## [1.7.6](https://github.com/3merge/q3-api/compare/v1.7.5...v1.7.6) (2021-01-06)

**Note:** Version bump only for package Q3-Api





## [1.7.5](https://github.com/3merge/q3-api/compare/v1.7.4...v1.7.5) (2021-01-06)

**Note:** Version bump only for package Q3-Api





## [1.7.4](https://github.com/3merge/q3-api/compare/v1.7.3...v1.7.4) (2021-01-05)


### Bug Fixes

* discriminator ngrams ([3c5af08](https://github.com/3merge/q3-api/commit/3c5af085c98543792825702208966272f410284d))





## [1.7.3](https://github.com/3merge/q3-api/compare/v1.7.2...v1.7.3) (2021-01-05)

**Note:** Version bump only for package Q3-Api





## [1.7.2](https://github.com/3merge/q3-api/compare/v1.7.1...v1.7.2) (2021-01-05)


### Bug Fixes

* nested n-gram value collection ([#111](https://github.com/3merge/q3-api/issues/111)) ([4b97752](https://github.com/3merge/q3-api/commit/4b97752ac2e7b410e806bd53475e2aa9a8bf8194))





## [1.7.1](https://github.com/3merge/q3-api/compare/v1.7.0...v1.7.1) (2021-01-04)

**Note:** Version bump only for package Q3-Api





# [1.7.0](https://github.com/3merge/q3-api/compare/v1.6.3...v1.7.0) (2021-01-04)


### Features

* n-gram fuzzy searching ([#108](https://github.com/3merge/q3-api/issues/108)) ([4f3164c](https://github.com/3merge/q3-api/commit/4f3164c6c0b014ef77744abfcd97b8eacb1cf5ff))





## [1.6.3](https://github.com/3merge/q3-api/compare/v1.6.2...v1.6.3) (2020-12-21)

**Note:** Version bump only for package Q3-Api





## [1.6.2](https://github.com/3merge/q3-api/compare/v1.6.1...v1.6.2) (2020-12-20)

**Note:** Version bump only for package Q3-Api





## [1.6.1](https://github.com/3merge/q3-api/compare/v1.6.0...v1.6.1) (2020-12-18)


### Bug Fixes

* column ordering ([e0ffe3c](https://github.com/3merge/q3-api/commit/e0ffe3c33f95ab8a5821a6f227b6c990a617bf01))





# [1.6.0](https://github.com/3merge/q3-api/compare/v1.5.12...v1.6.0) (2020-12-18)


### Features

* title row for excel exports ([7f3a88f](https://github.com/3merge/q3-api/commit/7f3a88fe77799c0fd85b4fd48274b38fe5ee4e4b))





## [1.5.12](https://github.com/3merge/q3-api/compare/v1.5.11...v1.5.12) (2020-12-16)

**Note:** Version bump only for package Q3-Api





## [1.5.11](https://github.com/3merge/q3-api/compare/v1.5.10...v1.5.11) (2020-12-15)

**Note:** Version bump only for package Q3-Api





## [1.5.10](https://github.com/3merge/q3-api/compare/v1.5.9...v1.5.10) (2020-12-15)


### Bug Fixes

* improve scheduler locking ([#105](https://github.com/3merge/q3-api/issues/105)) ([4830e08](https://github.com/3merge/q3-api/commit/4830e083a13b1d714599f4d216ecfc1ea60e0515))





## [1.5.9](https://github.com/3merge/q3-api/compare/v1.5.8...v1.5.9) (2020-12-14)

**Note:** Version bump only for package Q3-Api





## [1.5.8](https://github.com/3merge/q3-api/compare/v1.5.7...v1.5.8) (2020-12-14)

**Note:** Version bump only for package Q3-Api





## [1.5.7](https://github.com/3merge/q3-api/compare/v1.5.6...v1.5.7) (2020-12-13)

**Note:** Version bump only for package Q3-Api





## [1.5.6](https://github.com/3merge/q3-api/compare/v1.5.5...v1.5.6) (2020-12-13)

**Note:** Version bump only for package Q3-Api





## [1.5.5](https://github.com/3merge/q3-api/compare/v1.5.4...v1.5.5) (2020-12-13)


### Bug Fixes

* duplicate checking in filename ([f1eacde](https://github.com/3merge/q3-api/commit/f1eacdeeb19ad60fd5d614e525a86b7c1b616e0f))





## [1.5.4](https://github.com/3merge/q3-api/compare/v1.5.3...v1.5.4) (2020-12-13)

**Note:** Version bump only for package Q3-Api





## [1.5.3](https://github.com/3merge/q3-api/compare/v1.5.2...v1.5.3) (2020-12-12)

**Note:** Version bump only for package Q3-Api





## [1.5.2](https://github.com/3merge/q3-api/compare/v1.5.1...v1.5.2) (2020-12-11)

**Note:** Version bump only for package Q3-Api





## [1.5.1](https://github.com/3merge/q3-api/compare/v1.5.0...v1.5.1) (2020-12-09)

**Note:** Version bump only for package Q3-Api





# [1.5.0](https://github.com/3merge/q3-api/compare/v1.4.1...v1.5.0) (2020-12-08)


### Features

* distinct endpoint ([#100](https://github.com/3merge/q3-api/issues/100)) ([5f6a1c7](https://github.com/3merge/q3-api/commit/5f6a1c7bdca95e1cb87b0ccd3b5b03870adacf1a))





## [1.4.1](https://github.com/3merge/q3-api/compare/v1.4.0...v1.4.1) (2020-09-28)


### Bug Fixes

* destination cloned file ([0ba577b](https://github.com/3merge/q3-api/commit/0ba577b3aa9a257e422e86ab8581a0a1119e7fe0))





# 1.4.0 (2020-09-28)


### Bug Fixes

* access control optional settings ([3a38abf](https://github.com/3merge/q3-api/commit/3a38abfeb3cc78a427ea237154adefba187115c3))
* access control update op ([d7d97f9](https://github.com/3merge/q3-api/commit/d7d97f908e73238757ebd1fcab5ab8505cb11949))
* add version to lerna ([2bd8a51](https://github.com/3merge/q3-api/commit/2bd8a51a1bf44de1270376a923249989ea0c163e))
* allow for some falsy values in responder ([782fad0](https://github.com/3merge/q3-api/commit/782fad057b0acceb0559c2f8374cc838932574c1))
* authorship on notes, sub-document archiving and caster helpers ([2082a79](https://github.com/3merge/q3-api/commit/2082a79afd8a9080feb4efbfc8fe584d28dc7114))
* base fallback in schema discounts ([9e820ee](https://github.com/3merge/q3-api/commit/9e820ee479a50dfb42d7f62e48a4753b941fb0e1))
* broadcast change to all but sender ([1dadb6e](https://github.com/3merge/q3-api/commit/1dadb6e1d6c14566644990bc2471962768c97e6b))
* callback on session ([d48192e](https://github.com/3merge/q3-api/commit/d48192ec03dcd6df62a6fd829d57d98c17812945))
* change to mongose-lean dep ([8d3683c](https://github.com/3merge/q3-api/commit/8d3683c34276bd2e476fd72ab22359d97ee9a998))
* child process exit ([7b54c26](https://github.com/3merge/q3-api/commit/7b54c26b5225b0eb46c57e94e6c77803d1a8c912))
* chore registration currying no longer necessary ([4f490ba](https://github.com/3merge/q3-api/commit/4f490bad4073fc4616825767de207d43e2c10193))
* chores not registering ([6553dde](https://github.com/3merge/q3-api/commit/6553ddeecac18866748bff65c44168e1633f5994))
* CSV to buffer ([fc3daf6](https://github.com/3merge/q3-api/commit/fc3daf6e1dcde10910e67b32cde5852df3425d0d))
* custom buffer argument ([e62bb2f](https://github.com/3merge/q3-api/commit/e62bb2f8d3d20d239bbd9228184a0e49244605ef))
* dep conflict ([66cf1b5](https://github.com/3merge/q3-api/commit/66cf1b5a8287fec469c4cea82c1ca0e9795f15ed))
* discount enum ([78bd3f4](https://github.com/3merge/q3-api/commit/78bd3f4d3041ffa17f593beba57404f3e22c42e0))
* discounting target on diff evaluation ([58a8db0](https://github.com/3merge/q3-api/commit/58a8db0e13b15a17c3af669488218b73b9810280))
* discriminator version-control ([bc5b732](https://github.com/3merge/q3-api/commit/bc5b732aee00c75e4f755a702ca6753d0a769a13))
* distance comparison of negative vs positive values ([d4a76fa](https://github.com/3merge/q3-api/commit/d4a76fad36e7dd1bbe372c15b7e551aa490c2c53))
* duplicate middleware ([7c4c0ca](https://github.com/3merge/q3-api/commit/7c4c0ca988b35086d81e5563d26280b8ad12c2d2))
* flatten profile post ([#99](https://github.com/3merge/q3-api/issues/99)) ([b37909a](https://github.com/3merge/q3-api/commit/b37909acdd6e8cb34a506c5bcfa613fd35a5b039))
* h prefix for custom headers in mailgun API ([#70](https://github.com/3merge/q3-api/issues/70)) ([96f4b34](https://github.com/3merge/q3-api/commit/96f4b3499e0f32002255af479ef0cd7ae389e775))
* improper reference causing stack error ([a5d47c3](https://github.com/3merge/q3-api/commit/a5d47c3732b9f10fce3937d62e44320f9d38c6cb))
* monkey-patch countDocuments to apply options ([c0538ad](https://github.com/3merge/q3-api/commit/c0538ad04fb0af505ce82e921914d2594acbdcf7))
* monkey-patched countDocuments ([e1af2b0](https://github.com/3merge/q3-api/commit/e1af2b0336248535a0cc2f349a733da0f9dd5a35))
* monkey-patched mongoose method ([#93](https://github.com/3merge/q3-api/issues/93)) ([4d22078](https://github.com/3merge/q3-api/commit/4d22078b1a3b740c84cd612a256d4747b0206631))
* nested error message extraction when thrown in mongoose validation middleware ([b5610f3](https://github.com/3merge/q3-api/commit/b5610f38997ddc909f95644807ca43f17ce9de93))
* nested ownershipAlias path ([71574df](https://github.com/3merge/q3-api/commit/71574dfbb41c9c44e3229cbdd73efb8f12282cec))
* nullish values in rebate getRemainder helper ([ef5044d](https://github.com/3merge/q3-api/commit/ef5044d7ebe0dfb58070e0dddaee99afe23fb3c3))
* onarchive as async ([2b7b5e9](https://github.com/3merge/q3-api/commit/2b7b5e9056e05f9af8c2093b3ac49b2340bb2f60))
* ownership disable prop ([#75](https://github.com/3merge/q3-api/issues/75)) ([aea8570](https://github.com/3merge/q3-api/commit/aea857073abb57c25f9039a21b91f4bced29aef1))
* scheduling via chron ([3503f66](https://github.com/3merge/q3-api/commit/3503f66e80cf8b83c990af27bfe40a7feac1df11))
* simple discount rules ([e0ff83b](https://github.com/3merge/q3-api/commit/e0ff83b77e837bf158bc7b1fd73c3b0afa892d61))
* socket watchers ([a4ea345](https://github.com/3merge/q3-api/commit/a4ea34595d9da604971cf2d3193161f7933a3bc2))
* special character exclusions in auto-generated password ([#76](https://github.com/3merge/q3-api/issues/76)) ([63613a9](https://github.com/3merge/q3-api/commit/63613a91d94d61db00e4476d49e7cda1a2fdfa0f))
* start new tasks immediately ([0674b69](https://github.com/3merge/q3-api/commit/0674b6953d53445dc4ab5114f90ac764b18da2ec))
* subdoc prefix ([#95](https://github.com/3merge/q3-api/issues/95)) ([9248945](https://github.com/3merge/q3-api/commit/924894530afd2544970cbe90469f28a0f84251ef))
* update sub document undefined values ([176e69d](https://github.com/3merge/q3-api/commit/176e69d57c1c99f5ca7e8373ecc22cabc4296cbc))
* wrap forked process in session middleware ([4ad6ec9](https://github.com/3merge/q3-api/commit/4ad6ec9cd3baa3a4d6361ceae75d838fa60efa5e))
* **charts:** leave filter query for front-end task ([04f5c51](https://github.com/3merge/q3-api/commit/04f5c515f31e0355cb536cee9ee6e3c71117cf53))
* **j3-150:** enable access control on all rest-enabled schemas ([56ceaf0](https://github.com/3merge/q3-api/commit/56ceaf0a215fa13ceea715c11f51793b8cb1dcce))
* **locale:** reset password instructions reflective of new process ([227f260](https://github.com/3merge/q3-api/commit/227f260565153a227067e041927cfc84c7dc0be3))
* **permissions:** Rand required for document conditions instead of ([b87b8d5](https://github.com/3merge/q3-api/commit/b87b8d56280668786b9708644bf9929982b99d7a))
* **redaction:** comma-delimited with spaces only ([7c747d7](https://github.com/3merge/q3-api/commit/7c747d770bc074f999acdf22c02f7fad267a0b2b))
* **user:** cast emails to lowercase always ([9af0f66](https://github.com/3merge/q3-api/commit/9af0f66523d433c4fa39dc42ea82a4d9180e5260))
* **version:** constructor methods not available during lean query ([4039287](https://github.com/3merge/q3-api/commit/40392877df42db62418214830d304ea80ccc8f61))
* **version:** diff utility for storing only changed properties in subdocuments ([60a3e9d](https://github.com/3merge/q3-api/commit/60a3e9d0c56ec11918c678f4a40ad5b3d834a79a))
* **version:** versioning plugin tests ([25602cb](https://github.com/3merge/q3-api/commit/25602cb23536965611715610f7cfd5737cc1f036))
* **version:** virtuals need comparing in the diff func ([13c11bb](https://github.com/3merge/q3-api/commit/13c11bb7e03c9446424ed3815477b67b84501105))
* _id select in createdBy ([4113898](https://github.com/3merge/q3-api/commit/411389825e33a02c34719058ea65bb65c5fb68dd))
* added post-auth middleware (closes [#5](https://github.com/3merge/q3-api/issues/5)) and temporarily disabled CI ([#10](https://github.com/3merge/q3-api/issues/10)) ([b984d26](https://github.com/3merge/q3-api/commit/b984d26d069568a3cb4a53d9d3df9d4f2791ff35))
* address props searchable ([7c26934](https://github.com/3merge/q3-api/commit/7c26934e32d56766fce9e0d803ec179498bb5d31))
* address props searchable ([fc7f27a](https://github.com/3merge/q3-api/commit/fc7f27a620733438d16b49eab06a9c4cda7b5b54))
* auto populate mulitpler ([bcb0cbf](https://github.com/3merge/q3-api/commit/bcb0cbfee8a0b68e1231d5d2bd2ea15b5dfaa7bd))
* body required sanitizing ([#34](https://github.com/3merge/q3-api/issues/34)) ([1ec94cb](https://github.com/3merge/q3-api/commit/1ec94cb41dbda85cc34e8631b1ba41b0d121d9ad))
* call done on authorization ([#54](https://github.com/3merge/q3-api/issues/54)) ([4d6459f](https://github.com/3merge/q3-api/commit/4d6459f42e4d46d1ec9a4efa81b22db9d0ec7dfe))
* change retail to custom pricing ([5cdf508](https://github.com/3merge/q3-api/commit/5cdf508120f452601d1a51b3466b5a440151526f))
* changed permissions handling (closes [#8](https://github.com/3merge/q3-api/issues/8)), which indirectly fixed the generic 404 error (closes [#7](https://github.com/3merge/q3-api/issues/7)) ([#9](https://github.com/3merge/q3-api/issues/9)) ([9877357](https://github.com/3merge/q3-api/commit/9877357fff642f2f073158ddaea96051dde7a4f2))
* collectionName API route ([38a5f7e](https://github.com/3merge/q3-api/commit/38a5f7e7455cd747a2d47362af5b3e1c293f6565))
* compact helper on rebate to avoid conditional sku mis-matching ([f198616](https://github.com/3merge/q3-api/commit/f1986169f551802c8cafdc665f67adc5a65b9bc7))
* default order values ([3d6d743](https://github.com/3merge/q3-api/commit/3d6d7433841b7555b78fe4ddc80cc8979aaddd6d))
* default value to 0 ([#57](https://github.com/3merge/q3-api/issues/57)) ([8dcd668](https://github.com/3merge/q3-api/commit/8dcd66818da01116c4f4bef6aaf5aa102194db25))
* dep on lodash ([f1dc3f5](https://github.com/3merge/q3-api/commit/f1dc3f531ed6ab64959da3e1e9e3a67f38538ed5))
* discount filter should check for empty resource values ([1f39475](https://github.com/3merge/q3-api/commit/1f394751a40e018adf07797672cf04e1e7b81fdb))
* discount labels and jest open handles ([8640b6a](https://github.com/3merge/q3-api/commit/8640b6a4c26184e9599a54fcf98dca8f0a15634f))
* discriminator check in the grant lookup (closes [#4](https://github.com/3merge/q3-api/issues/4)) ([9fe96f9](https://github.com/3merge/q3-api/commit/9fe96f99cc9442654f497c1607a9bfdf0bffe795))
* document conditions on permissions checked for create/update ops ([395eb5e](https://github.com/3merge/q3-api/commit/395eb5e86852d81290c6ac0f6cb742bd2f47cca0))
* email URL reference verify ([169e240](https://github.com/3merge/q3-api/commit/169e2401e542cc4f33129d428340b463667beb86))
* engine specs ([5a6845b](https://github.com/3merge/q3-api/commit/5a6845bbcaaa67a041d4494f4d1ce11b30ca1fbf))
* fallback discounting ([1ef94b6](https://github.com/3merge/q3-api/commit/1ef94b6db290d688e3ffc8e680844a72acf4b1c8))
* filterByName utility ([0aeecd5](https://github.com/3merge/q3-api/commit/0aeecd52a304dc132e725b936c6a260d8c04cdcf))
* filtered percent discounts ([cc67f59](https://github.com/3merge/q3-api/commit/cc67f5982668270919f491a31cd8d1fba8c4eb26))
* fixed-price discounting ([7f5a9f8](https://github.com/3merge/q3-api/commit/7f5a9f804f801ccd4224a85e3a103a4b06ea609a))
* incremental discounts expect to be percentages ([436c26a](https://github.com/3merge/q3-api/commit/436c26ab5f6579ca9390da67b4b96b79b946b1c7))
* isFresh ISOdate comparison ([aee4f19](https://github.com/3merge/q3-api/commit/aee4f1970989a686c5b6a0ce0d6d5b3ec74c48e8))
* lean queries ([cd0609e](https://github.com/3merge/q3-api/commit/cd0609eee087b213c1e09fecf55e5aac9457e02f))
* linting --fix and test runner ([1b8dc64](https://github.com/3merge/q3-api/commit/1b8dc648b30c8b4faa1041ac449e38b0f745ad52))
* lookup permissions for document ([0199966](https://github.com/3merge/q3-api/commit/0199966df10f5361902d447090afe07fbb781519))
* min values on order conflicts with packages that need to issue credit notes ([80752db](https://github.com/3merge/q3-api/commit/80752db469f3fd8157cf16162da44588bc12dcbb))
* min values on percent (q3-schema-discounts) ([320b33c](https://github.com/3merge/q3-api/commit/320b33c3f9203210d41edeab947c5bc2e10c0cd8))
* new formula to prevent conflicts in factor-based pricing (Closes [#46](https://github.com/3merge/q3-api/issues/46)) ([7d26aae](https://github.com/3merge/q3-api/commit/7d26aaed0e29e1634de3dfae9f976896c88c3029))
* ObjectId syntax ([aeaef7f](https://github.com/3merge/q3-api/commit/aeaef7f131788792a992574905dfdf5cacc770cb))
* pagination custom options to correct authorization ([29943f1](https://github.com/3merge/q3-api/commit/29943f134fd1ddf591330f36e3b17deb8f0848cb))
* pagination custom options to correct authorization ([2e2b1a3](https://github.com/3merge/q3-api/commit/2e2b1a38b89590b5ba540e9eabd531cc5e5e5549))
* permissions document conditions ([087b3a6](https://github.com/3merge/q3-api/commit/087b3a65824ffd0a763e0ab7f9279abb1744d46a))
* query ranges for effectiveFrom and expiresOn props ([4a76d43](https://github.com/3merge/q3-api/commit/4a76d43f0050ac37f55c5899ded772539c6ebc32))
* rebates active query ([7da10af](https://github.com/3merge/q3-api/commit/7da10afd4ceb7eebb8353c088c7b10de11033674))
* removed hst,gst,pst ref on order model as this isn't an accurate representation of canadian tax table ([cfc69c3](https://github.com/3merge/q3-api/commit/cfc69c364a2f81c5f116d14ebb5b0fea85c40a1a))
* removed isDir search ([50d84dd](https://github.com/3merge/q3-api/commit/50d84dd870098306572048286bea9d4e1f0c44a9))
* removed jest runner ([260299a](https://github.com/3merge/q3-api/commit/260299a1dd25151f18c9a565830ae6d887512e5c))
* rounding issues in discount module ([#51](https://github.com/3merge/q3-api/issues/51)) ([abe9108](https://github.com/3merge/q3-api/commit/abe9108ab761b226125f859d007efba1f61257af))
* routes unit tests ([137e5a0](https://github.com/3merge/q3-api/commit/137e5a0db15a5b1d1746d3441386827216258c23))
* sortBy on sub-document rest controllers ([bd9e55c](https://github.com/3merge/q3-api/commit/bd9e55cb970d1d4cadfce7fe0216657abc96d5cf))
* streetNumber not a required property by default ([#68](https://github.com/3merge/q3-api/issues/68)) ([cf5fa04](https://github.com/3merge/q3-api/commit/cf5fa04f59b44fa3087bb250b57e3b10c049636e))
* sub document pre-save validation call ([fc3be6b](https://github.com/3merge/q3-api/commit/fc3be6bdf5e636b0c0d600072b0da85db63dad02))
* taxonomy scoping virtual ([7b1d1d7](https://github.com/3merge/q3-api/commit/7b1d1d7c1293da38b02f65e685bb61c5791badf7))
* walker POSIX support ([14fdbe4](https://github.com/3merge/q3-api/commit/14fdbe4321bbd3247cf1b567e1a889b31e2f1b0d))


### Features

* **gom-497:** dynamic access control ([ae28251](https://github.com/3merge/q3-api/commit/ae28251d719f798c5e1e613807b504d830b20ce1))
* **rest:** casters to simplify client querying ([f7b9d3e](https://github.com/3merge/q3-api/commit/f7b9d3e018b5f6f0fab629e9c329dd0a72b134c3))
* currency method pre-subtotal on order ([#29](https://github.com/3merge/q3-api/issues/29)) ([6347a0c](https://github.com/3merge/q3-api/commit/6347a0c316074dd159e5ed63540ca9110a7e98d1))
* Distance discounting ([7f83dcc](https://github.com/3merge/q3-api/commit/7f83dcce5e26864b4312d3e12ca7465efe872860))
* hydrate from __ data ([#52](https://github.com/3merge/q3-api/issues/52)) ([4ab26ae](https://github.com/3merge/q3-api/commit/4ab26ae09b8f16274f832780071072e048f86d06))
* soft delete permission checking ([217faf2](https://github.com/3merge/q3-api/commit/217faf2c182d878c1365fa5dede469c936b95dda))
* strategy/formula driven discounting ([1eceff1](https://github.com/3merge/q3-api/commit/1eceff1d659424985cac9cd870335badb961e755))
* tour/filter on user schema ([6b85cfe](https://github.com/3merge/q3-api/commit/6b85cfe7753cb4477e1c0f9012c155c6fbe0e764))
